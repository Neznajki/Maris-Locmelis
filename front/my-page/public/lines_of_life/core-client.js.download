var OK_REACT_core;!function(){var t={"+Hk/":function(t,e,n){t.exports=n("CF0i")("i8i4")},"0L3s":function(t,e,n){"use strict";n.r(e),n.d(e,{SvgIcon:function(){return r.K}});var r=n("0qmC")},"0qmC":function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var r=n("k6Di"),o=n("79Ja");function i(){return window.OK.LazyIconsCache}var c=function(){return(0,o.A)((function t(){(0,r.A)(this,t)}),null,[{key:"getContent",value:function(t){return i().getInstance(t).icon}},{key:"load",value:function(t,e){var n=i().getInstance(t);n.addListener(e),n.load()}},{key:"removeListener",value:function(t,e){i().getInstance(t).removeListener(e)}}])}()},"3Vwq":function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n("gjRD"),o=n("lVWp"),i=n("P2W9"),c=function(){(0,r.configure)({enforceActions:"never",isolateGlobalState:!0}),(0,o.useStaticRendering)(i.Env.isServerRendering)}},"4Kmw":function(t,e,n){"use strict";n.d(e,{M:function(){return s}});var r=n("k6Di"),o=n("79Ja"),i=n("UHbJ"),c=n("udpn"),u=n("5hh5");function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}var s=function(t){function e(){return(0,r.A)(this,e),t=this,n=e,o=arguments,n=(0,c.A)(n),(0,i.A)(t,a()?Reflect.construct(n,o||[],(0,c.A)(t).constructor):n.apply(t,o));var t,n,o}return(0,u.A)(e,t),(0,o.A)(e,[{key:"getLMsg",value:function(t,n){return e.getL10n().getPkg(this.pkg).getLMsg(t,n)}},{key:"subscribe",value:function(t){return e.getL10n().getPkg(this.pkg).subscribe(t)}}],[{key:"getL10n",value:function(){var t=window.l10n;if(!t)throw new Error("window.l10n должен быть проинициализирован предварительно");return t}}])}(n("cy2H").O)},"5hh5":function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n("PCpq");function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.A)(t,e)}},"6gUQ":function(t,e,n){"use strict";n.d(e,{U:function(){return s}});var r=n("k6Di"),o=n("79Ja"),i=n("UHbJ"),c=n("udpn"),u=n("5hh5");function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}var s=function(t){function e(){return(0,r.A)(this,e),t=this,n=e,o=arguments,n=(0,c.A)(n),(0,i.A)(t,a()?Reflect.construct(n,o||[],(0,c.A)(t).constructor):n.apply(t,o));var t,n,o}return(0,u.A)(e,t),(0,o.A)(e,[{key:"componentWillUnmount",value:function(){this.props.destroy()}},{key:"componentDidCatch",value:function(t,e){this.props.onError(t,e)}},{key:"render",value:function(){return this.props.children}}])}(n("jPs0").Component)},"79Ja":function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n("MhOO");function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,r.A)(o.key),o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},BUnj:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n("udpn");function o(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=(0,r.A)(t)););return t}},CF0i:function(t){"use strict";t.exports=OK_REACT_vendors},EbEg:function(t,e,n){"use strict";var r=n("+Hk/");e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},FVVs:function(t,e,n){"use strict";n.d(e,{r:function(){return r}});var r={get:function(t){return window.cfgStore.getCfg(t)},subscribe:function(t,e){window.cfgStore.subscribe(t,e)}}},Lr5L:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{A:function(){return r}})},MhOO:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n("lIP5"),o=n("V5aD");function i(t){var e=(0,o.A)(t,"string");return"symbol"==(0,r.A)(e)?e:e+""}},P2W9:function(t,e,n){"use strict";n.r(e),n.d(e,{Env:function(){return r}});var r={isDev:!1,isServerRendering:!1}},PCpq:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{A:function(){return r}})},PbLM:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n("BUnj");function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var o=(0,r.A)(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},o.apply(null,arguments)}},TrZC:function(t,e,n){"use strict";n.d(e,{P:function(){return o}});var r="app-block",o={INIT:"".concat(r,":init"),ERROR:"".concat(r,":error"),REACT_ERROR:"".concat(r,":react-error"),LOG:"".concat(r,":log"),ACTIVATE:"".concat(r,":activate"),DEACTIVATE:"".concat(r,":deactivate"),RENDER_COMPLETE:"".concat(r,":render_complete")}},UHbJ:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n("lIP5"),o=n("Lr5L");function i(t,e){if(e&&("object"==(0,r.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(t)}},V5aD:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n("lIP5");function o(t,e){if("object"!=(0,r.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}},XNt3:function(t,e,n){"use strict";n.d(e,{_:function(){return f}});var r=n("zThL"),o=n("k6Di"),i=n("79Ja"),c=n("nmm9"),u=n("eME3"),a=n("TrZC"),s=n("P2W9");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var f=function(){function t(e){var n=this,i=e.tagName,a=e.node,s=e.attrs,f=e.persistedStore,d=e.parts,v=e.responseData;(0,o.A)(this,t),this.tagName=void 0,this.attrs=void 0,this.parts=void 0,this.persistedStore=void 0,this.node=void 0,this.responseData=void 0,this.domFacade=void 0,this.renderContext=void 0,this.ctrl=void 0,this.env=void 0,this.destroy=function(){n.node=null,n.attrs={},n.parts={},n.responseData=null,n.domFacade.destroy(),n._unsubscribeOnUrlChange()},this.handleUrlChange=void 0,this._handleUrlChange=function(t){var e=t;e.detail;return n.handleUrlChange(e.detail,e)},this.tagName=i,this.attrs=(0,u.ke)(s,this.getName(),this._getLogger()),this.persistedStore=(0,u.U6)(f),this.parts=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,r.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},d),this.node=a||null,this.responseData=v||null,this.renderContext={},this.env={isInited:!1,wasServerRendering:this.node&&"true"===this.node.getAttribute("server-rendering")||!1},this.domFacade=new c.x({node:this.node}),this.ctrl=this._getController(),this.ctrl.init()}return(0,i.A)(t,[{key:"getName",value:function(){return this.tagName||this.constructor.name}},{key:"getAppAPI",value:function(){return{}}},{key:"emitAppAPI",value:function(){this.node&&this.domFacade.emit(a.P.INIT,this.getAppAPI())}},{key:"render",value:function(){throw new Error("'render' method should be implemented by descendant class!")}},{key:"create",value:function(){this._configureRenderContext(this.renderContext);var t=this.render();return this.emitAppAPI(),t}},{key:"getAppEntities",value:function(){throw new Error("'getAppEntities' method should be implemented by descendant class!")}},{key:"_getLogger",value:function(){throw new Error("`_getLogger` method should be implemented by descendant class!")}},{key:"_getController",value:function(){var t=new(0,this.getAppEntities().Controller);return t.setDomFacade(this.domFacade),t}},{key:"subscribeOnUrlChange",value:function(){this.handleUrlChange&&!s.Env.isServerRendering&&document.documentElement.addEventListener(t.URL_CHANGE_EVENT_NAME,this._handleUrlChange)}},{key:"_unsubscribeOnUrlChange",value:function(){this.handleUrlChange&&!s.Env.isServerRendering&&document.documentElement.removeEventListener(t.URL_CHANGE_EVENT_NAME,this._handleUrlChange)}},{key:"_configureRenderContext",value:function(t){throw new Error("`configureRenderContext` method should be implemented by descendant class!")}}],[{key:"render",value:function(t){var e=new this(t);return e.subscribeOnUrlChange(),e.create()}},{key:"destroy",value:function(t){}},{key:"registerDataCollection",value:function(t){return null}}])}();f.URL_CHANGE_EVENT_NAME="reacturlchange"},cy2H:function(t,e,n){"use strict";n.d(e,{O:function(){return i}});var r=n("k6Di"),o=n("79Ja"),i=function(){return(0,o.A)((function t(e){(0,r.A)(this,t),this.pkg=void 0,this.pkg=e}),[{key:"getLMsg",value:function(t,e){return"".concat(this.pkg,".").concat(t)}},{key:"label",value:function(t){return this}},{key:"subscribe",value:function(t){}}])}()},eME3:function(t,e,n){"use strict";n.d(e,{U6:function(){return l},ke:function(){return s}});var r=n("lIP5"),o=n("P2W9"),i=function(t){return t.STRING="string",t.NUMBER="number",t.BOOLEAN="boolean",t.OBJECT="object",t}({}),c=30;function u(t,e,n,r,o){switch(e){case i.STRING:return t;case i.BOOLEAN:return"true"===t;case i.NUMBER:return parseFloat(t);case i.OBJECT:try{return JSON.parse(t)}catch(e){var c='Error in block "'.concat(r,'" while parsing ')+"attribute ".concat(n," value ").concat(t," as JSON:");o.error(c,e)}}}var a=new Set([i.STRING,i.OBJECT,i.NUMBER]);function s(t,e,n){var s={};try{s=JSON.parse(t["data-attrs-types"])}catch(r){var l='Error in block "'.concat(e,'" while parsing ')+"data-attrs-types=".concat(t["data-attrs-types"]," ");n.error(l,r)}return Object.keys(s).reduce((function(l,f){var d=t[f.toLowerCase()],v=s[f],h=(0,r.A)(d),p=d;if(o.Env.isServerRendering){if("undefined"!==h&&h!==v)if(h===i.STRING&&a.has(v))p=u(d,v,f,e,n);else{var g=JSON.stringify(d);g.length>c&&(g=g.substring(0,c)+"...");var y=new Error('Error in  block "'.concat(e,'": attribute "').concat(f,'" has incorrect type. ')+'Expected "'.concat(v,'", got "').concat(h,'". Value="').concat(g,'"!')),m=(y.stack||"").split("\n").find((function(t){return!t.includes("core")&&t.includes(".js")}))||"";m=m.replace(/^\s+/,""),n.error(y.message,m)}}else"undefined"!==h&&(p=u(d,v,f,e,n));return l[f]=p,l}),{})}function l(t){try{return JSON.parse(t)}catch(t){return}}},fN34:function(t,e,n){t.exports=n},gjRD:function(t,e,n){t.exports=n("CF0i")("2vnA")},j6H8:function(t,e,n){"use strict";n.d(e,{X:function(){return o},z:function(){return i}});var r=n("EbEg"),o=function(t,e,n){if(e){var o={identifierPrefix:n.tagName||e.tagName,onRecoverableError:n.onRecoverableError};if("true"===e.getAttribute("server-rendering"))n.isHydrate=!0,e._reactRootContainer=r.hydrateRoot(e,t,o);else{n.isHydrate=!1;var i=r.createRoot(e,o);e._reactRootContainer=i,i.render(t)}}},i=function(t){var e;null==t||null===(e=t._reactRootContainer)||void 0===e||e.unmount()}},jPs0:function(t,e,n){t.exports=n("CF0i")("q1tI")},k6Di:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{A:function(){return r}})},k86M:function(t,e,n){"use strict";n.r(e),n.d(e,{cfg:function(){return o}});var r=n("FVVs");function o(t){return{get:function(){return r.r.get(t)}}}},lIP5:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{A:function(){return r}})},lVWp:function(t,e,n){t.exports=n("CF0i")("OeXR")},nTvL:function(t,e,n){"use strict";n.d(e,{w:function(){return u}});var r=n("k6Di"),o=n("79Ja"),i=n("TrZC"),c=function(t){return t.SUCCESS="success",t.FORCE="force",t.DURATION="duration",t}({}),u=function(){return(0,o.A)((function t(){(0,r.A)(this,t),this._domFacade=null,this.elsToActivate=[]}),[{key:"init",value:function(){}},{key:"domFacade",get:function(){if(!this._domFacade)throw new Error("domFacade должен быть задан перед его использованием");return this._domFacade}},{key:"setDomFacade",value:function(t){this._domFacade=t}},{key:"log",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,n=void 0===e?c.SUCCESS:e;this.domFacade.emit(i.P.LOG,{params:t,type:n})}},{key:"notifyError",value:function(t){this.domFacade.emit(i.P.ERROR,t)}},{key:"activate",value:function(t){this.domFacade.emit(i.P.ACTIVATE,{element:t})}},{key:"deactivate",value:function(t){this.domFacade.emit(i.P.DEACTIVATE,{element:t})}},{key:"addElToActivate",value:function(t){this.elsToActivate.push(t)}},{key:"activateEls",value:function(){var t=this;this.elsToActivate.forEach((function(e){t.activate(e)})),this.elsToActivate=[]}}])}()},nmm9:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n("k6Di"),o=n("79Ja"),i=function(){function t(e){var n=e.node;(0,r.A)(this,t),this._node=void 0,this.rootClassName="",this._node=n}return(0,o.A)(t,[{key:"getNode",value:function(){return this._node}},{key:"emit",value:function(t,e){if(!this._node)return!1;var n=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0});return this._node.dispatchEvent(n)}},{key:"destroy",value:function(){this._node=null}},{key:"getRootClassName",value:function(){if(!this.rootClassName){var e=this.getNode();if(!e)return"";var n=e.getAttribute(t.DATA_BUNDLE_NAME_ATTRIBUTE);n&&(this.rootClassName=n)}return this.rootClassName}}])}();i.DATA_BUNDLE_NAME_ATTRIBUTE="data-bundle-name"},pHqu:function(t,e,n){"use strict";n.r(e),n.d(e,{ReactAppBlock:function(){return m}});var r=n("k6Di"),o=n("79Ja"),i=n("UHbJ"),c=n("udpn"),u=n("PbLM"),a=n("5hh5"),s=n("jPs0"),l=n("XNt3"),f=n("lVWp"),d=n("j6H8"),v=n("3Vwq"),h=n("6gUQ"),p=n("TrZC"),g=n("eME3");function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}(0,v.N)();var m=function(t){function e(){var t,n,o,u;(0,r.A)(this,e);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=this,o=e,u=[].concat(s),o=(0,c.A)(o),(t=(0,i.A)(n,y()?Reflect.construct(o,u||[],(0,c.A)(n).constructor):o.apply(n,u))).onRenderComplete=function(e){return t.onRenderCompleteHandler(e)},t.onReactError=function(e,n,r){t._getLogger().error(n,r),t.hydrationError(n),t.domFacade.emit(p.P.REACT_ERROR,{code:e,data:{message:n.message,stack:n.stack,componentStack:r.componentStack}})},t.onReactRenderError=function(e,n){return t.onReactError("react-render-error",function(t){return t instanceof Error?t:{}}(e),n)},t.onReactRecoverableRenderError=function(e,n){return t.onReactError("react-recoverable-render-error",e,n)},t.persistStore=function(){var e,n,r=t.node;if(r){var o=null===(e=(n=t.ctrl.store).getParamsToPersist)||void 0===e?void 0:e.call(n);o&&r.setAttribute("data-persisted-store",JSON.stringify(o))}},t}return(0,a.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){return this._getLogger().debug("ReactAppBlock: rendering block:",this.getName()),this._checkAndClearSSRAttr(),(0,d.X)(this.getApp(),this.node,this.renderContext)}},{key:"_configureRenderContext",value:function(t){t.onRecoverableError=this.onReactRecoverableRenderError}},{key:"_checkAndClearSSRAttr",value:function(){var t;e.isSSRAllowed(this.node,this.persistedStore)||(null===(t=this.node)||void 0===t||t.removeAttribute("server-rendering"))}},{key:"onRenderCompleteHandler",value:function(t){if(null!=t){var e=this.renderContext.isHydrate;!e&&this.node&&this.ctrl.activateEls(),window.OK.navigationInterop.navigating.attachOnce(this.persistStore),this.env.isInited=!0,this._getLogger().debug("ReactAppBlock: block rendered. (hydrate: ".concat(e,")"),this.getName()),this.domFacade.emit(p.P.RENDER_COMPLETE,{element:this.node,isHydrate:e})}}},{key:"_getController",value:function(){var t,n,r,o,i,a=new(0,this.getAppEntities().Store)(this.attrs,this.persistedStore),s=(t=e,n="_getController",r=this,o=3,i=(0,u.A)((0,c.A)(1&o?t.prototype:t),n,r),2&o&&"function"==typeof i?function(t){return i.apply(r,t)}:i)([]);return s.setStore(a),s}},{key:"getApp",value:function(){var t=this.getAppEntities().Component;return s.createElement(h.U,{destroy:this.destroy,onError:this.onReactRenderError,ref:this.onRenderComplete},s.createElement(f.Provider,{ctrl:this.ctrl,store:this.ctrl.store,parts:this.parts,env:this.env,attrs:this.attrs},s.createElement(t,{store:this.ctrl.store,ctrl:this.ctrl})))}},{key:"hydrationError",value:function(t){var e=(this.node||{}).serverHTML;if(this.node&&t.message&&"string"==typeof e&&window.Diff&&(t.message.includes("Hydration")||t.message.includes("Minified React error"))){var n=window.Diff.diffWords(e,this.node.innerHTML);t.message=n.reduce((function(t,e){var n=.3*e.value.length,r=Math.min(n,300),o=e.value.length>100?"".concat(e.value.slice(0,r),"...").concat(e.value.slice(-r)):e.value;return t+=e.added?"[ADDED]".concat(o,"[/ADDED]"):e.removed?"[REMOVED]".concat(o,"[/REMOVED]"):"".concat(o)}),""),this._getLogger().debug("Hydration error for <".concat(this.tagName,"/>: ").concat(t.message)),window.OK.errorReporter&&window.OK.errorReporter.sendErrorWithInfo(t,"Hydration error for <".concat(this.tagName,"/>"))}}}],[{key:"isSSRAllowed",value:function(t,e){return!(t&&e&&"1"===t.getAttribute("no-hydrate-on-bf-cache")&&window.OK.navigation&&window.OK.navigation.getState().fromCache)&&(t&&"true"===t.getAttribute("server-rendering"))}},{key:"destroy",value:function(t){(0,d.z)(t)}}])}(l._);m.parsePersistedStore=g.U6},rH7D:function(t,e,n){"use strict";n.r(e),n.d(e,{l10n:function(){return i}});var r=n("4Kmw"),o=new Map;function i(t){var e=o.get(t);return e||(e=new r.M(t),o.set(t,e),e)}},udpn:function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{A:function(){return r}})},xR8O:function(t,e,n){"use strict";n.r(e),n.d(e,{BaseReactController:function(){return s}});var r=n("k6Di"),o=n("79Ja"),i=n("UHbJ"),c=n("udpn"),u=n("5hh5");function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}var s=function(t){function e(){var t,n,o,u;(0,r.A)(this,e);for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return n=this,o=e,u=[].concat(l),o=(0,c.A)(o),(t=(0,i.A)(n,a()?Reflect.construct(o,u||[],(0,c.A)(n).constructor):o.apply(n,u)))._store=null,t}return(0,u.A)(e,t),(0,o.A)(e,[{key:"setStore",value:function(t){this._store=t}},{key:"store",get:function(){if(!this._store)throw new Error("store должен быть задан перед его использованием");return this._store}}])}(n("nTvL").w)},zThL:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n("MhOO");function o(t,e,n){return(e=(0,r.A)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n("fN34");OK_REACT_core=r}();
//# sourceMappingURL=source-maps/core-client.js.map