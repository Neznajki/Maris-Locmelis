// Â¡DO NOT EDIT!
// Generated by `./gradlew buildTracer`
//
var tracerForHead=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o;function i(){if(o||(o={instance:{}}),"undefined"==typeof window)return o;var e="TracerSDK_2_1_x";return window[e]||(window[e]=o),window[e]}function s(e){var t=i(),r=t.instance[e];return r||(r={inner:{},modules:{},version:"2.1.0"},t.instance[e]=r),r}function a(e){return s(e).inner}function u(e,t,r){var n=a(e);return n[t]||(n[t]=r(e)),n[t]}var c=function(){return r((function e(){t(this,e),this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}),[{key:"destroy",value:function(){this.clear()}},{key:"add",value:function(e){var t="#".concat(this.logIndex," ").concat(Date.now()," | ").concat(e,"\n"),r=new Blob([t]).size;if(this.logTotalBytes+=r,this.log.push(t),this.logBytes.push(r),this.logIndex++,this.logTotalBytes>this.logMaxBytes)for(var n=this.logTotalBytes-this.logMaxBytes,o=0,i=this.logBytes.length-1,s=0;s<i;s++)if((o+=this.logBytes[s])>=n||s==i-1){this.logBytes=this.logBytes.slice(s+1),this.log=this.log.slice(s+1),this.logTotalBytes-=o;break}}},{key:"getData",value:function(){return this.log}},{key:"clear",value:function(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}])}();function l(e,t,r){var n=function(e){return s(e).modules}(e);if(n[t])throw new Error('Tracer module "'.concat(t,'" was already initialized'));return n[t]=r(e),n[t]}function f(e,t){return a(e)[t]}var v=function(){return r((function e(r){t(this,e),this.sdkKey=r}),[{key:"getSdkData",value:function(){return f(this.sdkKey,0)}},{key:"log",value:function(e){var t=this.getSdkData();t&&t.add(e)}},{key:"clearLog",value:function(){var e=this.getSdkData();e&&e.clear()}}])}();var h="tracerMain";var d=function(){return r((function e(r,n){t(this,e),this.crashesCount=0,this.errors=[],this.keys={},this.sdkKey=r,this.filterError=n.filterError}),[{key:"withCrashes",value:function(){return Boolean(this.crashesCount)}},{key:"destroy",value:function(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}},{key:"add",value:function(e){if("CRASH"===e.type){if(this.filterError)if(!1===this.filterError(e.error))return;this.crashesCount++,this.errors.push(e);var t=f(this.sdkKey,7),r=f(this.sdkKey,3);t&&t.setCrashed(),r&&r.forceUpload()}else this.errors.push(e)}},{key:"getData",value:function(){return this.errors}},{key:"dequeue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.errors.splice(0,e)}},{key:"setKey",value:function(e,t){this.keys[e]=t}},{key:"setKeys",value:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}},{key:"removeKey",value:function(e){delete this.keys[e]}},{key:"removeKeys",value:function(e){for(var t=0,r=e.length;t<r;t++)this.removeKey(e[t])}},{key:"getKeys",value:function(){return this.keys}}])}();function y(e,t,r,n,o){var i=e+": "+t+"\n";if(0===(r=r||"").indexOf(i)&&(r=r.slice(i.length)),n||o){var s=r.split("\n"),a=n||0,u=o?s.length-o:s.length;r=s.slice(a,u).join("\n")}return r}var g;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n="("+e.name+")";e.sameScopeCount>1&&(n+=" x"+e.sameScopeCount);var o=!e.parent;if(t.push(n),r){var i=(g||(g=new Error("tracerCurrentStack")),g);t.push(y(i.name,i.message,e.stack,3,o?0:1))}else t.push(e.stack);return e.parent&&k(e.parent,t,r),t.join("\n")}function m(e,t){if(t.tracerScope){var r=function(e){var t=f(e,4);return!!t&&t.disableStackCleanup}(e);return k(t.tracerScope,[y(t.name,t.message,t.stack,0,r?0:1)],!r)}return y(t.name,t.message,t.stack)}var p,w={},E=function(){return r((function e(){t(this,e),this.data={}}),[{key:"getItem",value:function(e){return this.data[e]||null}},{key:"removeItem",value:function(e){this.data[e]=void 0}},{key:"setItem",value:function(e,t){this.data[e]=t}}])}();function b(){if(!p){var e=i();(p=e.ls)||(p=function(){var e;try{if("undefined"==typeof window)return new E;e=window.localStorage;var t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new E:(e.removeItem(t),e)}catch(e){return new E}}(),e.ls=p)}return p}function K(e){return"tracer-mute-"+e}function I(e){var t=w[e];return void 0===t&&(w[e]=t=function(e){var t=b().getItem(K(e));return t?parseInt(t):null}(e)),!!t&&(Date.now()<t||(function(e){w[e]=null,b().removeItem(K(e))}(e),!1))}function D(e,t){if(r="crashUpload",!I("all")&&!I(r)){var r,n=f(e,1),o=f(e,0);if(n){var i=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:o?o.getData().join(""):void 0,errorStack:m(e,t.error)});i.keys=Object.assign(Object.assign({},n.getKeys()),i.keys),i.userId||(i.userId=n.userId),i.module||(i.module=n.module),n.add(i)}}}var S=!1;function T(e,t,r){t instanceof Error&&D(e,{error:t,type:"CRASH",errorEventType:r})}var B=function(){return r((function e(r){t(this,e),this.sdkKey=r}),[{key:"getErrorsData",value:function(){return f(this.sdkKey,1)}},{key:"error",value:function(e,t){e.tracerScope||(e.tracerScope=i().currentAsyncScope),D(this.sdkKey,Object.assign(Object.assign({type:"NON_FATAL"},t),{error:e,errorEventType:"manual"}))}},{key:"setErrorKey",value:function(e,t){var r=this.getErrorsData();r&&r.setKey(e,t)}},{key:"setErrorKeys",value:function(e){var t=this.getErrorsData();t&&t.setKeys(e)}},{key:"removeErrorKey",value:function(e){var t=this.getErrorsData();t&&t.removeKey(e)}},{key:"removeErrorKeys",value:function(e){var t=this.getErrorsData();t&&t.removeKeys(e)}},{key:"setUserId",value:function(e){var t=this.getErrorsData();t&&(t.userId=e)}},{key:"removeUserId",value:function(){var e=this.getErrorsData();e&&(e.userId=void 0)}},{key:"setModule",value:function(e){var t=this.getErrorsData();t&&(t.module=e)}},{key:"removeModule",value:function(){var e=this.getErrorsData();e&&(e.module=void 0)}}])}();function j(e,t){return Error.stackTraceLimit=t.stackTraceLimit||50,u(e,1,(function(){return new d(e,t)})),t.disableUnhandledErrorsListeners||u(e,2,(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"==typeof window||S)return{destroy:function(){}};function r(r){t&&r.stopImmediatePropagation(),T(e,r.error,r.type)}function n(r){t&&r.stopImmediatePropagation(),T(e,r.reason,r.type)}return window.addEventListener("error",r),window.addEventListener("unhandledrejection",n),S=!0,{destroy:function(){S&&(window.removeEventListener("error",r),window.removeEventListener("unhandledrejection",n))}}}(e)})),l(e,"error",(function(){return new B(e)}))}return e.initTracerError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(h,{stackTraceLimit:e.stackTraceLimit,disableUnhandledErrorsListeners:e.disableUnhandledErrorsListeners,restrictOtherErrorListeners:e.restrictOtherErrorListeners,filterError:e.filterError})},e.initTracerLog=function(){return u(e=h,0,(function(){return new c})),l(e,"log",(function(){return new v(e)}));var e},e}({});

