(function(window) {
var __jsRegistry = {},
	__globalRegistry = window.okModules || (window.okModules = {}),
	document = window.document,
	__js_temp_htmlTag=document.documentElement,
	undefined;

__globalRegistry["xr7g7iw"] || (__globalRegistry["xr7g7iw"] = (function(){function S(h){"@swc/helpers - typeof";return h&&typeof Symbol<"u"&&h.constructor===Symbol?"symbol":typeof h}window.xray=(function(){function h(t){for(y.push(t);y.length>Q.maxSize;)y.shift()}function x(t){return x=typeof Symbol=="function"&&S(Symbol.iterator)=="symbol"?function(n){return typeof n>"u"?"undefined":S(n)}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e>"u"?"undefined":S(e)},x(t)}function I(t){return t&&x(t)==="object"&&!R(t)}function R(t){return Object.prototype.toString.call(t)==="[object Array]"}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function p(){for(var t,e={},n=0;n<arguments.length;++n)for(var o in t=arguments[n],t)e[o]=e[o]&&I(e[o])&&I(t[o])?p(e[o],t[o]):t[o];return e}function b(t){var e=encodeURIComponent(JSON.stringify(t));return{size:e.length,raw:e}}function d(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},typeof window<"u"&&typeof window.addEventListener=="function"&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function U(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function w(t){for(var e in t)(typeof t[e]>"u"||t[e]===null)&&delete t[e];return t}function A(t,e){for(var n=-1,o=0;o<t.length;o++)if(e===t[o]){n=o;break}return n}function s(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:typeof document<"u"&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}function u(t,e){for(var n=t.split("&"),o=n[0],i={},r=1;r<n.length;++r){var a=n[r].split("="),l=decodeURIComponent(a[0]),c=decodeURIComponent(a[1]);try{c=JSON.parse(c)}catch(v){}i[l]=c}e=e||{},e.immediately?f.sendImmediately(o,i,e.ga):f.send(o,i,e.ga)}var y=[],Q={maxSize:500,getLog:function(){return Array.prototype.slice.call(y,0)},clear:function(){y=[]}},g={log:function(){try{(console.debug||console.log).apply(console,arguments)}catch(e){}},error:function(){},warn:function(){}},B=["p","email","split","utm","r","pgid","o_ss","o_v"],T=!1;d.prototype.setConfig=function(t){var e=Math.max;if(!T)return t.timeout=e(1e3,t.timeout||0),this._config=p(this._config,t),void(T=!0);var n=[];for(var o in t){if(o in this._config){n.push(o);continue}this._config[o]=t[o]}n.length&&g.warn("Queue config field(s) "+n.join(", ")+" are already set and can't be modified")},d.prototype.getConfig=function(){return p(this._config,{})},d.prototype.push=function(t,e){h(e);var n=t+"/batch?"+d._buildQueryString(e);e=d._stringifyParams(e);var o=b(e);if(o.size+2>this._config.maxBatchSize)return void g.error("Radar #"+e.uid+" body is too long: "+o.raw);this._batchesByUrls[n]||(this._batchesByUrls[n]=[[]]);var i,r=this._batchesByUrls[n];for(i=0;i<r.length;++i){var a=r[i];if(b(a.concat([e])).size<=this._config.maxBatchSize){a.push(e);break}}i===r.length&&r.push([e]),this._timeoutId||typeof setTimeout!="function"||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))},d.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var n=this._batchesByUrls[e],o=0;o<n.length;++o)this._send(e,n[o],t);delete this._batchesByUrls[e]}},d.prototype.isIdle=function(){return this._config.idle},d._buildQueryString=function(t){for(var e=[],n=0;n<B.length;++n){var o=B[n],i=typeof t[o]=="string"?t[o]:d._JsonStringify(t[o],o);delete t[o],typeof i<"u"&&i.length&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(i))}var r=[];for(var a in t.baseQuery)r.push(a);r=r.sort();for(var l,c=0;c<r.length;++c)l=r[c],e.push(encodeURIComponent(l)+"="+encodeURIComponent(t.baseQuery[l]));return delete t.baseQuery,e.join("&")},d.prototype._send=function(t,e,n){var o={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};if(!this._config.idle){if(typeof XMLHttpRequest>"u"&&!navigator.sendBeacon)return void fetch(t,{method:o.type,body:o.data}).catch(function(a){g.error("XRay send failed:",a)});if(n&&window.navigator.sendBeacon)return void window.navigator.sendBeacon(o.url,o.data);try{var i=new XMLHttpRequest,r=typeof this._config.beforeSend=="function"&&!this._config.beforeSend(i,o);if(r)return void i.abort();i.open(o.type,o.url,o.async),i.withCredentials=!this._config.withoutCredentials,i.send(o.data)}catch(a){g.error("xray.send failed:",a)}}},d._stringifyParams=function(t){var e={};for(var n in t){if(n=="i"){e.i=d._stringifyI(t.i);continue}e[n]=typeof t[n]=="string"?t[n]:d._JsonStringify(t[n],n)}return e},d._stringifyI=function(t){var e=[];for(var n in t){var o=t[n];e.push(n+":"+o)}return e.join(",")},d._JsonStringify=function(t,e){try{return JSON.stringify(t)}catch(n){g.error("Radar # cannot serialize value of param field "+e)}};var O=0,z=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],C=!1,_=new d,m={rlog_dot_error:"xray_rlog_dot_error",rlog_msg_abs:"xray_rlog_msg_abs",too_long:"xray_too_long",not_configured:"xray_not_configured"},E=32,M=64;s.prototype.logger=Q,s.prototype.setConfig=function(t,e){t=t||{},C&&this._deleteProtectedParams(t),this.unsafeSetConfig(t,e)},s.prototype.unsafeSetConfig=function(t,e){t=t||{},C=!0,t.split&&(t.split=U(t.split)),t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:p(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},s.prototype._deleteProtectedParams=function(t){for(var e=0;e<z.length;++e)delete t[z[e]];return t},s.prototype.addSplit=function(t){this._config.split=U("".concat(this._config.split||"","s").concat(t))},s.prototype.getConfig=function(){return p(this._config,{})},s.prototype.getTotalSended=function(){return O},s.prototype.setQueueConfig=d.prototype.setConfig.bind(_),s.prototype.getQueueConfig=d.prototype.getConfig.bind(_),s.prototype.getInstanceCopy=function(){var t=new s;return C=!1,t.setConfig(this._config,!0),t},s.prototype.send=function(t,e,n){this._send(t,e,n,!0)},s.prototype._send=function(t,e,n,o){if(o&&!C&&t!==m.not_configured){var i=e||{};i.t=t,this._logOwnError(i,m.not_configured),g.warn("Your xray instance is not configured")}if(e=p(e||{},{}),this._config.middlewares)for(var r=0;r<this._config.middlewares.length;r++){var a=this._config.middlewares[r],l=a(t,e,n);t=l.t,e=l.params,n=l.ga}t=R(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),e=p(this._config.defaultParams,this._config.expid?{dwh:{expid:this._config.expid}}:{},e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:O++}),e.skipdwh&&e.dwh&&delete e.dwh;for(var c=[e.t_feature,this._config.radarPrefix],v=0;v<c.length;++v)c[v]&&(e.t=c[v]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,o)}catch(L){return g.log("xray",e.uid,e),void g.error(L.message)}if(this._config.verbose&&g.log("xray",e.uid,e.t,e,n?"GA: "+!!n:void 0),_.push(this._config.xrayRadarUrl,e),n===!0&&!this._config.gaTrackingId)return void g.error("Radar #"+e.uid+": no GA tracking id specified");var P=typeof n=="string"?n:this._config.gaTrackingId;if(n&&P&&!_.isIdle()){if(e.i){for(var k in e.i)this._sendGA(t+"_"+k,e.i[k],P);return}this._sendGA(t,e.v,P)}},s.prototype.sendImmediately=function(t,e,n){this.send(t,e,n),_.process()},s.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),A(this._config.middlewares,t)===-1&&this._config.middlewares.push(t)},s.prototype.removeMiddleware=function(t){if(this._config.middlewares){var e=A(this._config.middlewares,t);-1<e&&this._config.middlewares.splice(e,1)}},s.prototype._sendGA=function(t,e,n){typeof gtag!="function"&&this._initGA(n);var o=t.split(/_/g),i=o[1]||o[0],r=o[1]?o[0]:"",a=o.slice(2).join("_"),l={value:e,send_to:n};r&&(l.event_category=r),a&&(l.event_label=a),gtag("event",i,l)},s.prototype._initGA=function(t){if(!window.gtag){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)}gtag("config",t,{send_page_view:!1})},s.prototype._logOwnError=function(t,e,n){var o="xray_err",i=t.p;i&&(i.length+8+1>E&&(i=i.slice(0,E-8-1)),o="".concat(i,"_").concat("xray_err"));var r=t.t;r.length>M&&(r=r.slice(0,M)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:r,err:e,value:n}},!1,!1)},s.prototype._validateParams=function(t,e){t=w(t),t.rlog&&t.rlog.indexOf(".")!==-1&&(e&&this._logOwnError(t,m.rlog_dot_error,t.rlog),g.error("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,m.rlog_msg_abs),g.error("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message),G(t.dwh)&&delete t.dwh;var n={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(var o in t.i)n[32].push(o),n[64].push(t.p+"_"+t.t+"_"+o);for(var i in n)for(var r=n[i],a=0;a<r.length;++a)if(r[a]&&r[a].length>i)throw e&&this._logOwnError(t,m.too_long,r[a].slice(0,i)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(n[i][a])+" (len: ".concat(r[a].length,", limit: ").concat(i,")"));return t},s.prototype._formatIntervals=function(t){if(I(t))return t;var e={};if(R(t)){for(var n,o=0;o<t.length;++o)n=t[o].split(":"),e[n[0]]=+n[1]||this._config.defaultParams.v;return e}if(typeof t=="string"){var i=t.split(",");return this._formatIntervals(i)}};var f=new s;return u.setConfig=function(t){f.setConfig(w({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||w({p:t.project,email:t.ActiveEmail})})),f.setQueueConfig(w({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle,withoutCredentials:t.withoutCredentials}))},u.getConfig=s.prototype.getConfig.bind(f),u.addSplit=s.prototype.addSplit.bind(f),u.unsafeSetConfig=s.prototype.unsafeSetConfig.bind(f),u.setQueueConfig=s.prototype.setQueueConfig.bind(f),u.getQueueConfig=s.prototype.getQueueConfig.bind(f),u.getTotalSended=s.prototype.getTotalSended.bind(f),u.send=s.prototype.send.bind(f),u.sendImmediately=s.prototype.sendImmediately.bind(f),u.getInstanceCopy=s.prototype.getInstanceCopy.bind(f),u.addMiddleware=s.prototype.addMiddleware.bind(f),u.removeMiddleware=s.prototype.removeMiddleware.bind(f),typeof window<"u"&&typeof window.define=="function"&&window.define.amd&&window.define("@mail/xray",function(){return u}),u})()})()||window);})(this);